export const MATCH_PAYTABLES = [
  {
    symbol: "A",
    label: "A",
    color: "#38bdf8",
    matches: [
      { count: 3, multiplier: 0.2 },
      { count: 4, multiplier: 0.4 },
      { count: 5, multiplier: 1.0 },
      { count: 6, multiplier: 2.0 },
      { count: 7, multiplier: 4.0 },
      { count: 8, multiplier: 10.0 },
      { count: 9, multiplier: 20.0 }
    ]
  },
  {
    symbol: "B",
    label: "B",
    color: "#f97316",
    matches: [
      { count: 3, multiplier: 0.2 },
      { count: 4, multiplier: 0.4 },
      { count: 5, multiplier: 1.0 },
      { count: 6, multiplier: 2.0 },
      { count: 7, multiplier: 4.0 },
      { count: 8, multiplier: 10.0 },
      { count: 9, multiplier: 20.0 }
    ]
  },
  {
    symbol: "C",
    label: "C",
    color: "#a78bfa",
    matches: [
      { count: 3, multiplier: 0.2 },
      { count: 4, multiplier: 0.4 },
      { count: 5, multiplier: 1.0 },
      { count: 6, multiplier: 2.0 },
      { count: 7, multiplier: 4.0 },
      { count: 8, multiplier: 10.0 },
      { count: 9, multiplier: 20.0 }
    ]
  },
  {
    symbol: "D",
    label: "D",
    color: "#22c55e",
    matches: [
      { count: 3, multiplier: 0.2 },
      { count: 4, multiplier: 0.4 },
      { count: 5, multiplier: 1.0 },
      { count: 6, multiplier: 2.0 },
      { count: 7, multiplier: 4.0 },
      { count: 8, multiplier: 10.0 },
      { count: 9, multiplier: 20.0 }
    ]
  },
  {
    symbol: "E",
    label: "E",
    color: "#eab308",
    matches: [
      { count: 3, multiplier: 0.4 },
      { count: 4, multiplier: 0.8 },
      { count: 5, multiplier: 2.0 },
      { count: 6, multiplier: 4.0 },
      { count: 7, multiplier: 8.0 },
      { count: 8, multiplier: 20.0 },
      { count: 9, multiplier: 40.0 }
    ]
  },
  {
    symbol: "F",
    label: "F",
    color: "#f43f5e",
    matches: [
      { count: 3, multiplier: 1.0 },
      { count: 4, multiplier: 2.0 },
      { count: 5, multiplier: 4.0 },
      { count: 6, multiplier: 8.0 },
      { count: 7, multiplier: 20.0 },
      { count: 8, multiplier: 40.0 },
      { count: 9, multiplier: 80.0 }
    ]
  },
  {
    symbol: "G",
    label: "G",
    color: "#10b981",
    matches: [
      { count: 3, multiplier: 2.0 },
      { count: 4, multiplier: 4.0 },
      { count: 5, multiplier: 8.0 },
      { count: 6, multiplier: 20.0 },
      { count: 7, multiplier: 40.0 },
      { count: 8, multiplier: 80.0 },
      { count: 9, multiplier: 200.0 }
    ]
  },
  {
    symbol: "H",
    label: "H",
    color: "#8b5cf6",
    matches: [
      { count: 3, multiplier: 0.4 },
      { count: 4, multiplier: 0.9 },
      { count: 5, multiplier: 2.0 },
      { count: 6, multiplier: 6.0 },
      { count: 7, multiplier: 16.0 },
      { count: 8, multiplier: 32.0 },
      { count: 9, multiplier: 64.0 }
    ]
  },
  {
    symbol: "I",
    label: "I",
    color: "#0ea5e9",
    matches: [
      { count: 3, multiplier: 0.1 },
      { count: 4, multiplier: 0.2 },
      { count: 5, multiplier: 0.5 },
      { count: 6, multiplier: 1.0 },
      { count: 7, multiplier: 2.5 },
      { count: 8, multiplier: 5.0 },
      { count: 9, multiplier: 10.0 }
    ]
  },
  {
    symbol: "J",
    label: "J",
    color: "#ec4899",
    matches: [
      { count: 3, multiplier: 0.1 },
      { count: 4, multiplier: 0.25 },
      { count: 5, multiplier: 0.6 },
      { count: 6, multiplier: 1.2 },
      { count: 7, multiplier: 3.0 },
      { count: 8, multiplier: 6.0 },
      { count: 9, multiplier: 12.0 }
    ]
  },
  {
    symbol: "K",
    label: "K",
    color: "#f59e0b",
    matches: [
      { count: 3, multiplier: 0.1 },
      { count: 4, multiplier: 0.3 },
      { count: 5, multiplier: 0.7 },
      { count: 6, multiplier: 1.4 },
      { count: 7, multiplier: 3.5 },
      { count: 8, multiplier: 7.0 },
      { count: 9, multiplier: 14.0 }
    ]
  },
  {
    symbol: "L",
    label: "L",
    color: "#14b8a6",
    matches: [
      { count: 3, multiplier: 0.1 },
      { count: 4, multiplier: 0.35 },
      { count: 5, multiplier: 0.8 },
      { count: 6, multiplier: 1.6 },
      { count: 7, multiplier: 4.0 },
      { count: 8, multiplier: 8.0 },
      { count: 9, multiplier: 16.0 }
    ]
  },
  {
    symbol: "M",
    label: "M",
    color: "#22d3ee",
    matches: [
      { count: 3, multiplier: 0.1 },
      { count: 4, multiplier: 0.2 },
      { count: 5, multiplier: 0.4 },
      { count: 6, multiplier: 0.8 },
      { count: 7, multiplier: 1.6 },
      { count: 8, multiplier: 3.2 },
      { count: 9, multiplier: 6.4 }
    ]
  },
  {
    symbol: "N",
    label: "N",
    color: "#fb7185",
    matches: [
      { count: 3, multiplier: 0.1 },
      { count: 4, multiplier: 0.22 },
      { count: 5, multiplier: 0.45 },
      { count: 6, multiplier: 0.9 },
      { count: 7, multiplier: 1.8 },
      { count: 8, multiplier: 3.6 },
      { count: 9, multiplier: 7.2 }
    ]
  },
  {
    symbol: "O",
    label: "O",
    color: "#a3e635",
    matches: [
      { count: 3, multiplier: 0.1 },
      { count: 4, multiplier: 0.24 },
      { count: 5, multiplier: 0.5 },
      { count: 6, multiplier: 1.0 },
      { count: 7, multiplier: 2.0 },
      { count: 8, multiplier: 4.0 },
      { count: 9, multiplier: 8.0 }
    ]
  }
];

const PAYTABLE_BY_SYMBOL = new Map(
  MATCH_PAYTABLES.map((entry) => [
    entry.symbol,
    {
      label: entry.label,
      matches: entry.matches,
      maxCount: Math.max(...entry.matches.map((match) => match.count))
    }
  ])
);

export const PAY_SYMBOLS = MATCH_PAYTABLES.map((entry) => entry.symbol);

export function getMatchMultiplier(symbol, count) {
  const entry = PAYTABLE_BY_SYMBOL.get(symbol);
  if (!entry || count < 3) {
    return 0;
  }
  const normalized = Math.min(count, entry.maxCount);
  const match = entry.matches.find((rule) => rule.count === normalized);
  return match ? match.multiplier : 0;
}
